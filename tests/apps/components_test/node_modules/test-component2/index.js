var autodafe = require('../../../../../');

module.exports = autodafe.Component.extend({
    _props: function () {
        this._super();

        this._processedRequest = null;
    },

    get: function (p) {
        return p;
    },

    processRequest: function (request, callback) {
        if (request.getType() == 'async') {
            request.processed = true;
            callback();
            return;
        }

        this._processedRequest = request;
        if (!request.order) {
            request.order = [this.getName()];
        }
        else {
            request.order.push(this.getName());
        }
        callback();
    },

    isRequestProcessed: function () {
        return !!this._processedRequest;
    },

    getRequest: function () {
        return this._processedRequest;
    }
});