var autodafe = require('../../../../../'),
    vow = require('vow');

module.exports = autodafe.Component.extend({
    _RequestConstructor: require('./TestRequest'),

    get: function (p) {
        return p;
    },

    makeRequest: function () {
        this._createRequest();
    },

    makeAsyncRequest: function () {
        return this._createRequest({type: 'async'});
    },

    processRequest: function (request) {
        if (!request.order) {
            request.order = [this.getName()];
        }
        else {
            request.order.push(this.getName());
        }

        return vow.cast(true);
    },

    getDependentComponents: function () {
        return this._super().concat('test-component2');
    }
});
